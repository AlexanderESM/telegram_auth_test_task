<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Telegram WebApp Debug</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: monospace;
            padding: 1.5em;
            background: #fafafa;
        }
        pre {
            background: #f0f0f0;
            border: 1px solid #ccc;
            padding: 1em;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
<h2>üîç Telegram WebApp Debug Info</h2>
<pre id="output">–ó–∞–≥—Ä—É–∑–∫–∞...</pre>

<script>
    Telegram.WebApp.ready();

    const output = document.getElementById("output");
    const now = new Date().toLocaleString();
    const initData = Telegram.WebApp.initData;

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ cookie
    if (initData && !document.cookie.includes("tg_init_data=")) {
      document.cookie = "tg_init_data=" + encodeURIComponent(initData)
        + "; path=/; SameSite=None; Secure";
    }

    output.textContent = `
üïí –í—Ä–µ–º—è: ${now}

üì¶ Telegram.WebApp.initData:
${initData || '[–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö]'}

üç™ document.cookie:
${document.cookie || '[cookie –ø—É—Å—Ç]'}

üöÄ –û—Ç–∫—Ä–æ–π —ç—Ç–æ –≤ Telegram WebApp, –∞ –Ω–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ!
    `.trim();
</script>
</body>
</html>
